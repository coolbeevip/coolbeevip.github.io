<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>jacoco on</title><link>https://coolbeevip.github.io/tags/jacoco/</link><description>Recent content in jacoco on</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 03 Jul 2022 13:24:14 +0800</lastBuildDate><atom:link href="https://coolbeevip.github.io/tags/jacoco/index.xml" rel="self" type="application/rss+xml"/><item><title>在 Maven 多模块项目中使用 JaCoCo 检查测试覆盖率</title><link>https://coolbeevip.github.io/posts/maven/jacoco-in-maven-multi-module/</link><pubDate>Sun, 03 Jul 2022 13:24:14 +0800</pubDate><guid>https://coolbeevip.github.io/posts/maven/jacoco-in-maven-multi-module/</guid><description>本文记录了如何在 Maven 多模块项目中使用 JaCoCo 生成覆盖率报告并推送到 Sonar 中
一个多模块项目 假设我有一个多模块项目，这个项目包含若干子模块，并且有若干测试用例。根目录的 pom.xml 看起来如下：
&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt; &amp;lt;project xmlns=&amp;#34;http://maven.apache.org/POM/4.0.0&amp;#34; xmlns:xsi=&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34; xsi:schemaLocation=&amp;#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;#34;&amp;gt; &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt; &amp;lt;groupId&amp;gt;my&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;my-project&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;${revision}&amp;lt;/version&amp;gt; &amp;lt;packaging&amp;gt;pom&amp;lt;/packaging&amp;gt; &amp;lt;properties&amp;gt; &amp;lt;revision&amp;gt;0.1.0-SNAPSHOT&amp;lt;/revision&amp;gt; &amp;lt;/properties&amp;gt; &amp;lt;modules&amp;gt; &amp;lt;module&amp;gt;module-dependencies&amp;lt;/module&amp;gt; &amp;lt;module&amp;gt;module-bar&amp;lt;/module&amp;gt; &amp;lt;module&amp;gt;module-foo&amp;lt;/module&amp;gt; &amp;lt;/modules&amp;gt; &amp;lt;/project&amp;gt; 关于 module-dependencies 模块的作用，可以查看我之前写的MAVEN PROJECTS BEST PRACTICES
在根项目 pom.xml 中增加 jacoco-maven-plugin 插件，并增加 module-coverage 模块 增加 jacoco-maven-plugin 插件
&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt; &amp;lt;project xmlns=&amp;#34;http://maven.apache.org/POM/4.0.0&amp;#34; xmlns:xsi=&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34; xsi:schemaLocation=&amp;#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;#34;&amp;gt; &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt; &amp;lt;groupId&amp;gt;my&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;my-project&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;${revision}&amp;lt;/version&amp;gt; &amp;lt;packaging&amp;gt;pom&amp;lt;/packaging&amp;gt; &amp;lt;properties&amp;gt; &amp;lt;jacoco-maven-plugin.version&amp;gt;0.8.6&amp;lt;/jacoco-maven-plugin.version&amp;gt; &amp;lt;/properties&amp;gt; &amp;lt;modules&amp;gt; &amp;lt;module&amp;gt;module-dependencies&amp;lt;/module&amp;gt; &amp;lt;module&amp;gt;module-bar&amp;lt;/module&amp;gt; &amp;lt;module&amp;gt;module-foo&amp;lt;/module&amp;gt; &amp;lt;module&amp;gt;module-coverage&amp;lt;/module&amp;gt; &amp;lt;/modules&amp;gt; &amp;lt;build&amp;gt; &amp;lt;pluginManagement&amp;gt; &amp;lt;plugins&amp;gt; &amp;lt;plugin&amp;gt; &amp;lt;groupId&amp;gt;org.</description></item></channel></rss>