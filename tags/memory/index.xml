<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>memory on</title><link>https://coolbeevip.github.io/tags/memory/</link><description>Recent content in memory on</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 07 Nov 2022 13:24:14 +0800</lastBuildDate><atom:link href="https://coolbeevip.github.io/tags/memory/index.xml" rel="self" type="application/rss+xml"/><item><title>Linux Command - Supervisory</title><link>https://coolbeevip.github.io/posts/linux/linux-collect-system/</link><pubDate>Mon, 07 Nov 2022 13:24:14 +0800</pubDate><guid>https://coolbeevip.github.io/posts/linux/linux-collect-system/</guid><description>定时收集当前用户的CPU和内存利用率 创建如下 user_usage.sh
#!/usr/bin/bash echo -e CPU%\\tMEM% while true do top -b -n 1 -u &amp;#34;$user&amp;#34; | awk -v user=&amp;#34;$user&amp;#34; &amp;#39;NR&amp;gt;7 { cpu_utilization_sum += $9; mem_utilization_sum += $10;} END { printf &amp;#34;%.2f\t%.2f\n&amp;#34;,cpu_utilization_sum,mem_utilization_sum; }&amp;#39; sleep $1 done 每 3 秒采集一次并保存到 user_usage.log 文件中
sh user_usage.sh 3 &amp;gt; user_usage.log &amp;amp; 定时收集某个进程的CPU和内存利用率 创建如下 proc_usage.sh
#!/usr/bin/bash echo proc $2 echo -e CPU%\\tMEM% while true do top -b -n 1 -p `ps -ef | grep $2 | grep -v grep | awk &amp;#39;{ print $2 }&amp;#39; | paste -s -d &amp;#39;,&amp;#39;` | awk -v user=&amp;#34;$user&amp;#34; &amp;#39;NR&amp;gt;7 { cpu_utilization_sum += $9; mem_utilization_sum += $10;} END { printf &amp;#34;%.</description></item><item><title>Linux Command - Memory</title><link>https://coolbeevip.github.io/posts/linux/linux-commands-memory/</link><pubDate>Fri, 11 Mar 2022 13:24:14 +0800</pubDate><guid>https://coolbeevip.github.io/posts/linux/linux-commands-memory/</guid><description>Linux 内存相关命令
查看系统内存 # free -h total used free shared buff/cache available Mem: 251G 40G 1.4G 4.0G 209G 206G Swap: 4.0G 3.7G 312M 内存占用 TOP N # ps aux | sort -k4,4nr | head -n 5 200 139348 227 6.9 38668500 18410776 ? Ssl 3月10 1905:49 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.282.b08-2.el8_3.x86_64/jre/bin/java...org.sonatype.nexus.karaf.NexusMain mysql 33407 1.2 2.2 349722012 6012524 ? Sl 2021 4596:18 /usr/local/mysql/bin/mysqld --basedir=/usr/local/mysql mysql 118257 0.4 0.5 10170064 1536084 ? Ssl 2月28 66:04 /usr/share/elasticsearch/jdk/bin/java -Xms1g -Xmx1g -XX:+UseConcMarkSweepGC root 42564 9.</description></item></channel></rss>