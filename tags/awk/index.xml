<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Awk on</title><link>https://coolbeevip.github.io/tags/awk/</link><description>Recent content in Awk on</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 23 Oct 2022 13:24:14 +0800</lastBuildDate><atom:link href="https://coolbeevip.github.io/tags/awk/index.xml" rel="self" type="application/rss+xml"/><item><title>常用日志统计脚本</title><link>https://coolbeevip.github.io/posts/linux/linux-commands-awk/</link><pubDate>Sun, 23 Oct 2022 13:24:14 +0800</pubDate><guid>https://coolbeevip.github.io/posts/linux/linux-commands-awk/</guid><description>常用日志分析脚本，日志样例如下
2022-12-02 17:00:02,580 [reactor-http-epoll-7] O [com.my.gateway.filter.RequestGlobalFilter] RequestGlobalFilter.java:46 - request http://gateway/myapp/graphql remote address 110.242.12.19
统计文件中匹配规则的行数 统计 2022-12-02 日 17 点至 18 点包含 RequestGlobalFilter 关键字的行数
$ cat my-gateway_9999.log | grep &amp;#39;2022-12-02 17.*RequestGlobalFilter&amp;#39; | wc -l 24003 统计 2022-12-02 日 17 点至 18 点包含 RequestGlobalFilter 并且请求路径包含 myapp 关键字的行数
$ cat my-gateway_9999.log | grep &amp;#39;2022-12-02 17.*RequestGlobalFilter.*myapp.*&amp;#39; | wc -l 6369 分组统计 统计 2022-12-02 日 17 点至 18 点包含 RequestGlobalFilter 按照客户端 IP 地址统计每个客户端的请求行数
$ cat my-gateway_9999.</description></item></channel></rss>