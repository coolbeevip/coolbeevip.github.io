<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Stress on</title><link>https://coolbeevip.github.io/categories/stress/</link><description>Recent content in Stress on</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 30 May 2025 00:24:14 +0800</lastBuildDate><atom:link href="https://coolbeevip.github.io/categories/stress/index.xml" rel="self" type="application/rss+xml"/><item><title>DeepSeek-R1 vLLM性能基准测试：wrk压力测试详细报告</title><link>https://coolbeevip.github.io/posts/ai/deepseek-r1-vllm-wrk-benchmark-report/</link><pubDate>Fri, 30 May 2025 00:24:14 +0800</pubDate><guid>https://coolbeevip.github.io/posts/ai/deepseek-r1-vllm-wrk-benchmark-report/</guid><description>配置 DeepSeek-R1-Distill-Qwen-14B NVIDIA A40 vLLM vllm/vllm-openai:v0.8.5 NVIDIA-SMI 560.35.03 Driver Version: 560.35.03 CUDA Version: 12.6 wrk 测试方法 10 线程 20 并发持续测试一分钟
[root@myserver wrk-4.2.0]# ./wrk --timeout 30s -t10 -c20 -d60s -s post.lua http://10.1.2.100:8080/v1/chat/completions Running 1m test @ http://10.1.2.100:8080/v1/chat/completions 10 threads and 20 connections Thread Stats Avg Stdev Max +/- Stdev Latency 3.07s 38.32ms 3.20s 66.93% Req/Sec 1.45 3.05 10.00 87.92% 381 requests in 1.00m, 285.10KB read Requests/sec: 6.34 Transfer/sec: 4.74KB 10 线程 100 并发持续测试一分钟</description></item><item><title>Estimate host capacity based on QPS</title><link>https://coolbeevip.github.io/posts/stress-testing-host-estimate-with-qps/</link><pubDate>Wed, 07 Mar 2018 13:24:14 +0800</pubDate><guid>https://coolbeevip.github.io/posts/stress-testing-host-estimate-with-qps/</guid><description>通过单个服务器压测的 QPS 估算需要的服务器数量
已知 QPS 和期望每笔耗时，估算服务器数量 服务器数量 $$ = QPS \div (1000 \div 每笔毫秒) \div 每服务器CPU个数 $$
例如：
QPS：每秒处理3200笔 每笔毫秒：50ms 每个服务器CPU个数：16 服务器数量 $$ 3200_{qps} \div (1000_{ms} \div 50_{ms}) \div 16_{cpu} = 10_{台} $$
已知 QPS 以及服务器数量，估算每笔耗时 每笔耗时毫秒 $$ = 1000 \div ( QPS \div ( 服务器数量 \times 每服务器CPU个数 ) ) $$
例如：
QPS：每秒处理3200笔 服务器数量：10 每服务器CPU个数：16 每笔耗时毫秒 $$ 1000 \div ( 3200 \div ( 10 \times 16 ) ) = 50_{ms}$$</description></item></channel></rss>