<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Wrk on</title><link>https://coolbeevip.github.io/categories/wrk/</link><description>Recent content in Wrk on</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 30 May 2025 00:24:14 +0800</lastBuildDate><atom:link href="https://coolbeevip.github.io/categories/wrk/index.xml" rel="self" type="application/rss+xml"/><item><title>DeepSeek-R1 vLLM性能基准测试：wrk压力测试详细报告</title><link>https://coolbeevip.github.io/posts/ai/deepseek-r1-vllm-wrk-benchmark-report/</link><pubDate>Fri, 30 May 2025 00:24:14 +0800</pubDate><guid>https://coolbeevip.github.io/posts/ai/deepseek-r1-vllm-wrk-benchmark-report/</guid><description>配置 DeepSeek-R1-Distill-Qwen-14B NVIDIA A40 vLLM vllm/vllm-openai:v0.8.5 NVIDIA-SMI 560.35.03 Driver Version: 560.35.03 CUDA Version: 12.6 wrk 测试方法 创建一个请求文件
cat &amp;gt; post.lua &amp;lt;&amp;lt; &amp;#39;EOF&amp;#39; wrk.method = &amp;#34;POST&amp;#34; wrk.body = &amp;#39;{&amp;#34;model&amp;#34;:&amp;#34;deepseek-14b&amp;#34;,&amp;#34;messages&amp;#34;:[{&amp;#34;role&amp;#34;:&amp;#34;user&amp;#34;,&amp;#34;content&amp;#34;:&amp;#34;写一个50字的短文&amp;#34;}],&amp;#34;max_tokens&amp;#34;:50}&amp;#39; wrk.headers[&amp;#34;Content-Type&amp;#34;] = &amp;#34;application/json&amp;#34; wrk.headers[&amp;#34;Authorization&amp;#34;] = &amp;#34;Bearer your-api-key&amp;#34; EOF 10 线程 20 并发持续测试一分钟
[root@myserver wrk-4.2.0]# ./wrk --timeout 30s -t10 -c20 -d60s -s post.lua http://10.1.2.100:8080/v1/chat/completions Running 1m test @ http://10.1.2.100:8080/v1/chat/completions 10 threads and 20 connections Thread Stats Avg Stdev Max +/- Stdev Latency 3.07s 38.</description></item></channel></rss>