<!doctype html><html lang=en data-theme><head><title>Lei Zhang | Very High CPU usage Sonatype Nexus Docker</title><meta charset=utf-8><meta name=generator content="Hugo 0.105.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="This is my knowledge base. I document things here"><link rel=stylesheet href=/css/style.min.7cf3c5090ac13256a5fa5531e5649cfe5a2ba7de88dca14ce0b6e253409a3511.css integrity="sha256-fPPFCQrBMlal+lUx5WSc/lorp96I3KFM4LbiU0CaNRE=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.f798cbda9aaa38f89eb38be6414bd082cfd71a6780375cbf67b6d2fb2b96491e.css integrity="sha256-95jL2pqqOPies4vmQUvQgs/XGmeAN1y/Z7bS+yuWSR4=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/custom.min.3fa691134fafa8351e9d193939a352647c1ae886828bdefa3f5a272653dbf7e4.css integrity="sha256-P6aRE0+vqDUenRk5OaNSZHwa6IaCi976P1onJlPb9+Q=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=/posts/nexus/very-high-cpu-usage-sonatype-nexus-docker/><script type=text/javascript src=/js/anatole-header.min.df804b63b5bd8474ea0756ea874bc8f1e92552708cc6ea43aa0d76981dc419f9.js integrity="sha256-34BLY7W9hHTqB1bqh0vI8eklUnCMxupDqg12mB3EGfk=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content="Very High CPU usage Sonatype Nexus Docker"><meta name=twitter:description content="本文记录 Sonatype Nexus 私服遇到性能劣化问题的分析过程（未解决）
环境说明 使用 sonatype/nexus3 镜像启动，通过挂载卷存储数据
Nexus 配置，可以看到关键配置 -Xms8g -Xmx8g -XX:MaxDirectMemorySize=35158M -XX:+UseConcMarkSweepGC
200 105083 105062 99 11:01 ? 2-00:51:44 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.282.b08-2.el8_3.x86_64/jre/bin/java -server -Dinstall4j.jvmDir=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.282.b08-2.el8_3.x86_64/jre -Dexe4j.moduleName=/opt/sonatype/nexus/bin/nexus -XX:+UnlockDiagnosticVMOptions -Dinstall4j.launcherId=245 -Dinstall4j.swt=false -Di4jv=0 -Di4jv=0 -Di4jv=0 -Di4jv=0 -Di4jv=0 -Xms8g -Xmx8g -XX:MaxDirectMemorySize=35158M -XX:ActiveProcessorCount=16 -XX:+UseParNewGC -XX:ParallelGCThreads=12 -XX:MaxTenuringThreshold=6 -XX:SurvivorRatio=5 -XX:+UseConcMarkSweepGC -XX:-CMSParallelRemarkEnabled -XX:CMSInitiatingOccupancyFraction=65 -XX:+UseCMSInitiatingOccupancyOnly -XX:+UseCMSCompactAtFullCollection -XX:+CMSClassUnloadingEnabled -XX:+DisableExplicitGC -XX:+PrintGCDetails -Xloggc:/nexus-data/vgc/nexus-1646967690.vgc -XX:+UnlockDiagnosticVMOptions -XX:+LogVMOutput -XX:LogFile=../sonatype-work/nexus3/log/jvm.log -XX:-OmitStackTraceInFastThrow -Djava.net.preferIPv4Stack=true -Dkaraf.home=. -Dkaraf.base=. -Dkaraf.etc=etc/karaf -Djava.util.logging.config.file=etc/karaf/java.util.logging.properties -Dkaraf.data=../sonatype-work/nexus3 -Dkaraf.log=../sonatype-work/nexus3/log -Djava.io.tmpdir=../sonatype-work/nexus3/tmp -Dkaraf.startLocalConsole=false -Djdk.tls.ephemeralDHKeySize=2048 -Djava.endorsed.dirs=lib/endorsed -Di4j.vpt=true -classpath /opt/sonatype/nexus/.install4j/i4jruntime.jar:/opt/sonatype/nexus/lib/boot/nexus-main.jar:/opt/sonatype/nexus/lib/boot/activation-1.1.1.jar:/opt/sonatype/nexus/lib/boot/jakarta.xml.bind-api-2.3.3.jar:/opt/sonatype/nexus/lib/boot/jaxb-runtime-2.3.3.jar:/opt/sonatype/nexus/lib/boot/txw2-2.3.3.jar:/opt/sonatype/nexus/lib/boot/istack-commons-runtime-3.0.10.jar:/opt/sonatype/nexus/lib/boot/org.apache.karaf.main-4.3.6.jar:/opt/sonatype/nexus/lib/boot/osgi.core-7.0.0.jar:/opt/sonatype/nexus/lib/boot/org.apache.karaf.specs.activator-4.3.6.jar:/opt/sonatype/nexus/lib/boot/org.apache.karaf.diagnostic.boot-4.3.6.jar:/opt/sonatype/nexus/lib/boot/org.apache.karaf.jaas.boot-4.3.6.jar com.install4j.runtime.launcher.UnixLauncher run 9d17dc87 0 0 org."></head><body><div class="sidebar ."><div class=logo-title><div class=title><img src=/images/profile.jpg alt="profile picture"><h3 title><a href=/>I'm Lei Zhang</a></h3><div class=description><p>This is my knowledge base. I document things here</p></div></div><p><a href=https://github.com/coolbeevip><img src="https://img.shields.io/github/followers/coolbeevip?label=follow&style=social" alt="GitHub coolbeevip"></a>
<img src=https://badges.pufler.dev/commits/all/coolbeevip alt="Commits Badge">
<img src=https://badges.pufler.dev/repos/coolbeevip alt="Repos Badge">
<img src=https://badges.pufler.dev/years/coolbeevip alt="Years Badge"></p></div><ul class=social-links><li><a href=https://github.com/coolbeevip/ rel=me aria-label=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li><a href=mailto:zhanglei@apache.org rel=me aria-label=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul><div class=footer><div class=by_farbox>&copy; Lei Zhang 2022</div></div></div><div class=main><div class="page-top ."><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a><ul class=nav id=navMenu><li><a href=/ title>Home</a></li><li><a href=/posts title>Blog</a></li><li><a href=/bookmarks title>Bookmarks</a></li><li><a href=/about/ title>About</a></li></ul></div><div class=autopagerize_page_element><div class=content><div class="post ."><div class=post-content><div class=post-title><h3>Very High CPU usage Sonatype Nexus Docker</h3></div><p>本文记录 Sonatype Nexus 私服遇到性能劣化问题的分析过程（未解决）</p><h2 id=环境说明>环境说明</h2><p>使用 <code>sonatype/nexus3</code> 镜像启动，通过挂载卷存储数据</p><p>Nexus 配置，可以看到关键配置 <code>-Xms8g -Xmx8g -XX:MaxDirectMemorySize=35158M -XX:+UseConcMarkSweepGC</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ae81ff>200</span>      <span style=color:#ae81ff>105083</span> <span style=color:#ae81ff>105062</span> <span style=color:#ae81ff>99</span> 11:01 ?        2-00:51:44 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.282.b08-2.el8_3.x86_64/jre/bin/java -server -Dinstall4j.jvmDir<span style=color:#f92672>=</span>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.282.b08-2.el8_3.x86_64/jre -Dexe4j.moduleName<span style=color:#f92672>=</span>/opt/sonatype/nexus/bin/nexus -XX:+UnlockDiagnosticVMOptions -Dinstall4j.launcherId<span style=color:#f92672>=</span><span style=color:#ae81ff>245</span> -Dinstall4j.swt<span style=color:#f92672>=</span>false -Di4jv<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> -Di4jv<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> -Di4jv<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> -Di4jv<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> -Di4jv<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> -Xms8g -Xmx8g -XX:MaxDirectMemorySize<span style=color:#f92672>=</span>35158M -XX:ActiveProcessorCount<span style=color:#f92672>=</span><span style=color:#ae81ff>16</span> -XX:+UseParNewGC -XX:ParallelGCThreads<span style=color:#f92672>=</span><span style=color:#ae81ff>12</span> -XX:MaxTenuringThreshold<span style=color:#f92672>=</span><span style=color:#ae81ff>6</span> -XX:SurvivorRatio<span style=color:#f92672>=</span><span style=color:#ae81ff>5</span> -XX:+UseConcMarkSweepGC -XX:-CMSParallelRemarkEnabled -XX:CMSInitiatingOccupancyFraction<span style=color:#f92672>=</span><span style=color:#ae81ff>65</span> -XX:+UseCMSInitiatingOccupancyOnly -XX:+UseCMSCompactAtFullCollection -XX:+CMSClassUnloadingEnabled -XX:+DisableExplicitGC -XX:+PrintGCDetails -Xloggc:/nexus-data/vgc/nexus-1646967690.vgc -XX:+UnlockDiagnosticVMOptions -XX:+LogVMOutput -XX:LogFile<span style=color:#f92672>=</span>../sonatype-work/nexus3/log/jvm.log -XX:-OmitStackTraceInFastThrow -Djava.net.preferIPv4Stack<span style=color:#f92672>=</span>true -Dkaraf.home<span style=color:#f92672>=</span>. -Dkaraf.base<span style=color:#f92672>=</span>. -Dkaraf.etc<span style=color:#f92672>=</span>etc/karaf -Djava.util.logging.config.file<span style=color:#f92672>=</span>etc/karaf/java.util.logging.properties -Dkaraf.data<span style=color:#f92672>=</span>../sonatype-work/nexus3 -Dkaraf.log<span style=color:#f92672>=</span>../sonatype-work/nexus3/log -Djava.io.tmpdir<span style=color:#f92672>=</span>../sonatype-work/nexus3/tmp -Dkaraf.startLocalConsole<span style=color:#f92672>=</span>false -Djdk.tls.ephemeralDHKeySize<span style=color:#f92672>=</span><span style=color:#ae81ff>2048</span> -Djava.endorsed.dirs<span style=color:#f92672>=</span>lib/endorsed -Di4j.vpt<span style=color:#f92672>=</span>true -classpath /opt/sonatype/nexus/.install4j/i4jruntime.jar:/opt/sonatype/nexus/lib/boot/nexus-main.jar:/opt/sonatype/nexus/lib/boot/activation-1.1.1.jar:/opt/sonatype/nexus/lib/boot/jakarta.xml.bind-api-2.3.3.jar:/opt/sonatype/nexus/lib/boot/jaxb-runtime-2.3.3.jar:/opt/sonatype/nexus/lib/boot/txw2-2.3.3.jar:/opt/sonatype/nexus/lib/boot/istack-commons-runtime-3.0.10.jar:/opt/sonatype/nexus/lib/boot/org.apache.karaf.main-4.3.6.jar:/opt/sonatype/nexus/lib/boot/osgi.core-7.0.0.jar:/opt/sonatype/nexus/lib/boot/org.apache.karaf.specs.activator-4.3.6.jar:/opt/sonatype/nexus/lib/boot/org.apache.karaf.diagnostic.boot-4.3.6.jar:/opt/sonatype/nexus/lib/boot/org.apache.karaf.jaas.boot-4.3.6.jar com.install4j.runtime.launcher.UnixLauncher run 9d17dc87 <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span> org.sonatype.nexus.karaf.NexusMain
</span></span></code></pre></div><p>系统内核</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># uname -a</span>
</span></span><span style=display:flex><span>Linux 10-1-207-194 3.10.0-1160.31.1.el7.x86_64 <span style=color:#75715e>#1 SMP Thu Jun 10 13:32:12 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</span>
</span></span></code></pre></div><p>内存信息</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># free -h</span>
</span></span><span style=display:flex><span>              total        used        free      shared  buff/cache   available
</span></span><span style=display:flex><span>Mem:           251G         38G        6.2G        4.0G        206G        208G
</span></span><span style=display:flex><span>Swap:          4.0G        3.8G        209M
</span></span></code></pre></div><h2 id=故障现象>故障现象</h2><p>读取 pom 耗时 16 秒</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#f92672>[</span>root@10-1-207-194 ~<span style=color:#f92672>]</span><span style=color:#75715e># time curl http://127.0.0.1:8088/nexus/repository/releases/com/ai/nc-common-um/4.1.0/nc-common-um-4.1.0.pom</span>
</span></span><span style=display:flex><span>&lt;?xml version<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1.0&#34;</span> encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;UTF-8&#34;</span>?&gt;
</span></span><span style=display:flex><span>&lt;project xsi:schemaLocation<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span> xmlns<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
</span></span><span style=display:flex><span>    xmlns:xsi<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
</span></span><span style=display:flex><span>  &lt;parent&gt;
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>  &lt;/parent&gt;
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  &lt;dependencies&gt;
</span></span><span style=display:flex><span>   ...
</span></span><span style=display:flex><span>  &lt;/dependencies&gt;
</span></span><span style=display:flex><span>  &lt;repositories&gt;
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>  &lt;/repositories&gt;
</span></span><span style=display:flex><span>&lt;/project&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>real	0m16.433s
</span></span><span style=display:flex><span>user	0m0.005s
</span></span><span style=display:flex><span>sys	0m0.004s
</span></span></code></pre></div><h2 id=在-nexus-容器内安装-jstack-工具>在 Nexus 容器内安装 jstack 工具</h2><p>因为 nexus3 官方镜像中只有 JRE，所以我们需要在容器内安装 JDK</p><p>以 root 权限登录容器内部</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker exec -u <span style=color:#ae81ff>0</span> -it nexus3.9.x bash
</span></span></code></pre></div><p>安装 JDK</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>yum install java-1.8.0-openjdk-devel.x86_64
</span></span></code></pre></div><h2 id=劣化分析>劣化分析</h2><p>以普通用户登录容器内部</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker exec -it nexus3.9.x bash
</span></span></code></pre></div><p>使用 <code>top</code> 命令查看 CPU 利用率为 1666%</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>bash-4.4$ top
</span></span><span style=display:flex><span>top - 07:22:50 up <span style=color:#ae81ff>263</span> days, 15:25,  <span style=color:#ae81ff>0</span> users,  load average: 13.83, 12.73, 12.55
</span></span><span style=display:flex><span>Tasks:   <span style=color:#ae81ff>4</span> total,   <span style=color:#ae81ff>1</span> running,   <span style=color:#ae81ff>3</span> sleeping,   <span style=color:#ae81ff>0</span> stopped,   <span style=color:#ae81ff>0</span> zombie
</span></span><span style=display:flex><span>%Cpu<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span>: 23.5 us,  2.5 sy,  0.0 ni, 74.1 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
</span></span><span style=display:flex><span>MiB Mem : 257429.8 total,   6311.8 free,  39158.4 used, 211959.5 buff/cache
</span></span><span style=display:flex><span>MiB Swap:   4096.0 total,    209.1 free,   3886.9 used. 213295.4 avail Mem
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
</span></span><span style=display:flex><span>     <span style=color:#ae81ff>1</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32524</span> S  <span style=color:#ae81ff>1666</span>   4.1   2984:04 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>878</span> root      <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>19336</span>   <span style=color:#ae81ff>2384</span>   <span style=color:#ae81ff>1832</span> S   0.0   0.0   0:00.13 bash
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2379</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>12036</span>   <span style=color:#ae81ff>1952</span>   <span style=color:#ae81ff>1464</span> S   0.0   0.0   0:00.01 bash
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2386</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   <span style=color:#ae81ff>49120</span>   <span style=color:#ae81ff>2164</span>   <span style=color:#ae81ff>1504</span> R   0.0   0.0   0:00.00 top
</span></span></code></pre></div><p>使用 <code>top -n 1 -b -H -p 1 | head -n 30 && jstack 1 > /nexus-data/nexus_thread.info</code> 命令查看 CPU 利用率高的线程并保存线程信息到 /nexus-data/nexus_thread.info</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>bash-4.4$ top -n <span style=color:#ae81ff>1</span> -b -H -p <span style=color:#ae81ff>1</span> | head -n <span style=color:#ae81ff>30</span> <span style=color:#f92672>&amp;&amp;</span> jstack <span style=color:#ae81ff>1</span> &gt; /nexus-data/nexus_thread.info
</span></span><span style=display:flex><span>top - 07:39:25 up <span style=color:#ae81ff>263</span> days, 15:42,  <span style=color:#ae81ff>0</span> users,  load average: 17.86, 17.93, 15.91
</span></span><span style=display:flex><span>Threads: <span style=color:#ae81ff>527</span> total,  <span style=color:#ae81ff>17</span> running, <span style=color:#ae81ff>510</span> sleeping,   <span style=color:#ae81ff>0</span> stopped,   <span style=color:#ae81ff>0</span> zombie
</span></span><span style=display:flex><span>%Cpu<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span>: 35.1 us,  4.1 sy,  0.0 ni, 60.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
</span></span><span style=display:flex><span>MiB Mem : 257429.8 total,   4224.3 free,  35897.7 used, 217307.8 buff/cache
</span></span><span style=display:flex><span>MiB Swap:   4096.0 total,    211.9 free,   3884.1 used. 216556.0 avail Mem
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>265</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> R  94.1   4.1  69:01.28 java
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1416</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  64.7   4.1  16:43.97 qtp1892721215-6
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1653</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  58.8   4.1   4:32.59 qtp1892721215-8
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1951</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> R  58.8   4.1   2:08.03 qtp1892721215-1
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2285</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  58.8   4.1  11:54.16 qtp1892721215-1
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>793</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  52.9   4.1  21:48.02 qtp1892721215-5
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1432</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  52.9   4.1   6:49.96 qtp1892721215-6
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1685</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  52.9   4.1   3:34.37 qtp1892721215-8
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1747</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> R  52.9   4.1  11:23.02 qtp1892721215-9
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1803</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> R  52.9   4.1  11:59.63 qtp1892721215-1
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2254</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  52.9   4.1   0:27.77 qtp1892721215-1
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2293</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  52.9   4.1   3:47.03 qtp1892721215-1
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2295</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> R  52.9   4.1   0:25.11 qtp1892721215-1
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2306</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  52.9   4.1   2:12.40 qtp1892721215-1
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>2330</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> R  52.9   4.1   8:36.55 qtp1892721215-1
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1721</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> R  47.1   4.1  15:02.04 qtp1892721215-9
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1772</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  47.1   4.1   4:22.38 qtp1892721215-9
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1781</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  47.1   4.1  16:55.50 qtp1892721215-9
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1784</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> R  47.1   4.1  13:05.06 qtp1892721215-9
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1807</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  47.1   4.1   8:50.17 qtp1892721215-1
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1838</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> R  47.1   4.1   1:15.92 qtp1892721215-1
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1901</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> R  47.1   4.1   2:42.83 qtp1892721215-1
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>1933</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32548</span> S  47.1   4.1   2:39.22 qtp1892721215-1
</span></span></code></pre></div><p>分别查看高 CPU 的线程堆栈</p><p>PID=265(0x109)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#e6db74>&#34;Concurrent Mark-Sweep GC Thread&#34;</span> os_prio<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> tid<span style=color:#f92672>=</span>0x00007f4e0c112000 nid<span style=color:#f92672>=</span>0x109 runnable
</span></span></code></pre></div><p>PID=1416(0x588)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#e6db74>&#34;qtp1892721215-631 &lt;command&gt;sql.select from asset where bucket = :bucket and name = :propValue&lt;/command&gt;&#34;</span> <span style=color:#75715e>#631 prio=5 os_prio=0 tid=0x00007f4cfc004000 nid=0x588 runnable [0x00007f4a9afec000]</span>
</span></span><span style=display:flex><span>   java.lang.Thread.State: RUNNABLE
</span></span><span style=display:flex><span>        at com.orientechnologies.common.concur.lock.ODistributedCounter.decrement<span style=color:#f92672>(</span>ODistributedCounter.java:50<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.common.concur.lock.OReadersWriterSpinLock.releaseReadLock<span style=color:#f92672>(</span>OReadersWriterSpinLock.java:113<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.common.concur.lock.OPartitionedLockManager$SpinLockWrapper.unlock<span style=color:#f92672>(</span>OPartitionedLockManager.java:107<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.cache.local.twoq.O2QCache.doLoad<span style=color:#f92672>(</span>O2QCache.java:379<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.cache.local.twoq.O2QCache.load<span style=color:#f92672>(</span>O2QCache.java:294<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.base.ODurableComponent.loadPage<span style=color:#f92672>(</span>ODurableComponent.java:145<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readFullEntry<span style=color:#f92672>(</span>OPaginatedCluster.java:1898<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecordBuffer<span style=color:#f92672>(</span>OPaginatedCluster.java:779<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecord<span style=color:#f92672>(</span>OPaginatedCluster.java:742<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecord<span style=color:#f92672>(</span>OPaginatedCluster.java:721<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.doReadRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:4220<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.readRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:3807<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.readRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:1410<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx$SimpleRecordReader.readRecord<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:3395<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.executeReadRecord<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:2008<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.load<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:656<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.load<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:103<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.executeSearchRecord<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:585<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.serialIterator<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:1638<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.fetchFromTarget<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:1585<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.fetchValuesFromIndexCursor<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:2466<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.searchForIndexes<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:2280<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.searchInClasses<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:1017<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLResultsetAbstract.assignTarget<span style=color:#f92672>(</span>OCommandExecutorSQLResultsetAbstract.java:203<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.assignTarget<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:527<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.executeSearch<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:509<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.execute<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:485<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLDelegate.execute<span style=color:#f92672>(</span>OCommandExecutorSQLDelegate.java:70<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.executeCommand<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:3400<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.command<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:3318<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.command.OCommandRequestTextAbstract.execute<span style=color:#f92672>(</span>OCommandRequestTextAbstract.java:69<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at org.sonatype.nexus.repository.storage.MetadataNodeEntityAdapter.findByProperty<span style=color:#f92672>(</span>MetadataNodeEntityAdapter.java:165<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>PID=1653(0x675)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#e6db74>&#34;qtp1892721215-859 &lt;command&gt;sql.select from asset where bucket = :bucket and name = :propValue&lt;/command&gt;&#34;</span> <span style=color:#75715e>#859 prio=5 os_prio=0 tid=0x00007f496400d800 nid=0x675 runnable [0x00007f4be2de8000]</span>
</span></span><span style=display:flex><span>   java.lang.Thread.State: WAITING <span style=color:#f92672>(</span>parking<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at sun.misc.Unsafe.park<span style=color:#f92672>(</span>Native Method<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        - parking to wait <span style=color:#66d9ef>for</span>  &lt;0x00000006005092a8&gt; <span style=color:#f92672>(</span>a java.util.concurrent.locks.ReentrantLock$NonfairSync<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.LockSupport.park<span style=color:#f92672>(</span>LockSupport.java:175<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt<span style=color:#f92672>(</span>AbstractQueuedSynchronizer.java:836<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued<span style=color:#f92672>(</span>AbstractQueuedSynchronizer.java:870<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire<span style=color:#f92672>(</span>AbstractQueuedSynchronizer.java:1199<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock<span style=color:#f92672>(</span>ReentrantLock.java:209<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.ReentrantLock.lock<span style=color:#f92672>(</span>ReentrantLock.java:285<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.common.collection.closabledictionary.OClosableEntry.acquireStateLock<span style=color:#f92672>(</span>OClosableEntry.java:84<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.common.collection.closabledictionary.OClosableLinkedContainer.acquire<span style=color:#f92672>(</span>OClosableLinkedContainer.java:292<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.cache.local.OWOWCache.getFilledUpTo<span style=color:#f92672>(</span>OWOWCache.java:959<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.base.ODurableComponent.getFilledUpTo<span style=color:#f92672>(</span>ODurableComponent.java:132<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readFullEntry<span style=color:#f92672>(</span>OPaginatedCluster.java:1889<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecordBuffer<span style=color:#f92672>(</span>OPaginatedCluster.java:779<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecord<span style=color:#f92672>(</span>OPaginatedCluster.java:742<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecord<span style=color:#f92672>(</span>OPaginatedCluster.java:721<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.doReadRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:4220<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.readRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:3807<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.readRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:1410<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx$SimpleRecordReader.readRecord<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:3395<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.executeReadRecord<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:2008<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.load<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:656<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.load<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:103<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.executeSearchRecord<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:585<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.serialIterator<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:1638<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>PID=1951(0x79f)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#e6db74>&#34;qtp1892721215-1159 &lt;command&gt;sql.select from asset where bucket = :bucket and name = :propValue&lt;/command&gt;&#34;</span> <span style=color:#75715e>#1159 prio=5 os_prio=0 tid=0x00007f48d800f000 nid=0x79f waiting on condition [0x00007f45c51cd000]</span>
</span></span><span style=display:flex><span>   java.lang.Thread.State: WAITING <span style=color:#f92672>(</span>parking<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at sun.misc.Unsafe.park<span style=color:#f92672>(</span>Native Method<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        - parking to wait <span style=color:#66d9ef>for</span>  &lt;0x00000006005092a8&gt; <span style=color:#f92672>(</span>a java.util.concurrent.locks.ReentrantLock$NonfairSync<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.LockSupport.park<span style=color:#f92672>(</span>LockSupport.java:175<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt<span style=color:#f92672>(</span>AbstractQueuedSynchronizer.java:836<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued<span style=color:#f92672>(</span>AbstractQueuedSynchronizer.java:870<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire<span style=color:#f92672>(</span>AbstractQueuedSynchronizer.java:1199<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock<span style=color:#f92672>(</span>ReentrantLock.java:209<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.ReentrantLock.lock<span style=color:#f92672>(</span>ReentrantLock.java:285<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.common.collection.closabledictionary.OClosableEntry.acquireStateLock<span style=color:#f92672>(</span>OClosableEntry.java:84<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.common.collection.closabledictionary.OClosableLinkedContainer.acquire<span style=color:#f92672>(</span>OClosableLinkedContainer.java:292<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.cache.local.OWOWCache.getFilledUpTo<span style=color:#f92672>(</span>OWOWCache.java:959<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.base.ODurableComponent.getFilledUpTo<span style=color:#f92672>(</span>ODurableComponent.java:132<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecordBuffer<span style=color:#f92672>(</span>OPaginatedCluster.java:762<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecord<span style=color:#f92672>(</span>OPaginatedCluster.java:742<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecord<span style=color:#f92672>(</span>OPaginatedCluster.java:721<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.doReadRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:4220<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.readRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:3807<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.readRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:1410<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx$SimpleRecordReader.readRecord<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:3395<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.executeReadRecord<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:2008<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.load<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:656<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.load<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:103<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.executeSearchRecord<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:585<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.serialIterator<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:1638<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.fetchFromTarget<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:1585<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>PID=2285(0x8ed)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#e6db74>&#34;qtp1892721215-1491 &lt;command&gt;sql.select from asset where bucket = :bucket and name = :propValue&lt;/command&gt;&#34;</span> <span style=color:#75715e>#1491 prio=5 os_prio=0 tid=0x00007f4a30006000 nid=0x8ed waiting on condition [0x00007f47c6de8000]</span>
</span></span><span style=display:flex><span>   java.lang.Thread.State: WAITING <span style=color:#f92672>(</span>parking<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at sun.misc.Unsafe.park<span style=color:#f92672>(</span>Native Method<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        - parking to wait <span style=color:#66d9ef>for</span>  &lt;0x0000000600508ef0&gt; <span style=color:#f92672>(</span>a java.util.concurrent.locks.ReentrantLock$NonfairSync<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.LockSupport.park<span style=color:#f92672>(</span>LockSupport.java:175<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt<span style=color:#f92672>(</span>AbstractQueuedSynchronizer.java:836<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued<span style=color:#f92672>(</span>AbstractQueuedSynchronizer.java:870<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire<span style=color:#f92672>(</span>AbstractQueuedSynchronizer.java:1199<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock<span style=color:#f92672>(</span>ReentrantLock.java:209<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at java.util.concurrent.locks.ReentrantLock.lock<span style=color:#f92672>(</span>ReentrantLock.java:285<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.common.collection.closabledictionary.OClosableEntry.acquireStateLock<span style=color:#f92672>(</span>OClosableEntry.java:84<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.common.collection.closabledictionary.OClosableLinkedContainer.acquire<span style=color:#f92672>(</span>OClosableLinkedContainer.java:292<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.cache.local.OWOWCache.getFilledUpTo<span style=color:#f92672>(</span>OWOWCache.java:959<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.base.ODurableComponent.getFilledUpTo<span style=color:#f92672>(</span>ODurableComponent.java:132<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readFullEntry<span style=color:#f92672>(</span>OPaginatedCluster.java:1889<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecordBuffer<span style=color:#f92672>(</span>OPaginatedCluster.java:779<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecord<span style=color:#f92672>(</span>OPaginatedCluster.java:742<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.paginated.OPaginatedCluster.readRecord<span style=color:#f92672>(</span>OPaginatedCluster.java:721<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.doReadRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:4220<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.readRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:3807<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.readRecord<span style=color:#f92672>(</span>OAbstractPaginatedStorage.java:1410<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx$SimpleRecordReader.readRecord<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:3395<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.executeReadRecord<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:2008<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.load<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:656<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.load<span style=color:#f92672>(</span>ODatabaseDocumentTx.java:103<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.executeSearchRecord<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:585<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        at com.orientechnologies.orient.core.sql.OCommandExecutorSQLSelect.serialIterator<span style=color:#f92672>(</span>OCommandExecutorSQLSelect.java:1638<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>有的时候还发现大量 CPU 利用率在 50% 左右的线程，这些线程执行垃圾收集，但无法回收导致 CPU 利用率高的堆内存</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>bash-4.4$ top -n <span style=color:#ae81ff>1</span> -b -H -p <span style=color:#ae81ff>1</span> | head -n <span style=color:#ae81ff>30</span> <span style=color:#f92672>&amp;&amp;</span> jstack <span style=color:#ae81ff>1</span> &gt; /nexus-data/nexus_thread.info
</span></span><span style=display:flex><span>top - 08:04:55 up <span style=color:#ae81ff>263</span> days, 16:07,  <span style=color:#ae81ff>0</span> users,  load average: 22.25, 16.58, 15.25
</span></span><span style=display:flex><span>Threads: <span style=color:#ae81ff>503</span> total,  <span style=color:#ae81ff>12</span> running, <span style=color:#ae81ff>491</span> sleeping,   <span style=color:#ae81ff>0</span> stopped,   <span style=color:#ae81ff>0</span> zombie
</span></span><span style=display:flex><span>%Cpu<span style=color:#f92672>(</span>s<span style=color:#f92672>)</span>: 25.1 us,  3.0 sy,  0.0 ni, 71.9 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
</span></span><span style=display:flex><span>MiB Mem : 257429.8 total,   2308.7 free,  36091.9 used, 219029.1 buff/cache
</span></span><span style=display:flex><span>MiB Swap:   4096.0 total,    212.6 free,   3883.4 used. 216354.0 avail Mem
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>265</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> S  52.9   4.1  78:42.98 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>257</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  47.1   4.1  55:13.06 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>259</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  47.1   4.1  55:13.65 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>250</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  41.2   4.1  55:12.86 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>251</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  41.2   4.1  55:12.68 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>252</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  41.2   4.1  55:13.58 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>253</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  41.2   4.1  55:13.15 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>254</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  41.2   4.1  55:13.40 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>255</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  41.2   4.1  55:13.25 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>256</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  41.2   4.1  55:13.24 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>258</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  41.2   4.1  55:13.19 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>260</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  41.2   4.1  55:12.91 java
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>261</span> nexus     <span style=color:#ae81ff>20</span>   <span style=color:#ae81ff>0</span>   43.8g  10.4g  <span style=color:#ae81ff>32660</span> R  41.2   4.1  55:13.13 java
</span></span></code></pre></div><pre tabindex=0><code>&#34;Gang worker#0 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c05d800 nid=0xfa runnable

&#34;Gang worker#1 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c05f000 nid=0xfb runnable

&#34;Gang worker#2 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c060800 nid=0xfc runnable

&#34;Gang worker#3 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c065000 nid=0xfd runnable

&#34;Gang worker#4 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c067000 nid=0xfe runnable

&#34;Gang worker#5 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c068800 nid=0xff runnable

&#34;Gang worker#6 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c06a800 nid=0x100 runnable

&#34;Gang worker#7 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c06c800 nid=0x101 runnable

&#34;Gang worker#8 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c06e000 nid=0x102 runnable

&#34;Gang worker#9 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c070000 nid=0x103 runnable

&#34;Gang worker#10 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c071800 nid=0x104 runnable

&#34;Gang worker#11 (Parallel GC Threads)&#34; os_prio=0 tid=0x00007f4e0c073800 nid=0x105 runnable
</code></pre><h2 id=gc-日志分析>GC 日志分析</h2><p>查看 GC 文件发现频繁</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>22045.210: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22045.210: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1231922 secs<span style=color:#f92672>]</span> 4367587K-&gt;3685888K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1234838 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.08 sys<span style=color:#f92672>=</span>0.01, real<span style=color:#f92672>=</span>0.12 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22045.545: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22045.545: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;118569K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1480261 secs<span style=color:#f92672>]</span> 4300040K-&gt;3649444K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1483200 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.19 sys<span style=color:#f92672>=</span>0.04, real<span style=color:#f92672>=</span>0.15 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22045.901: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22045.901: <span style=color:#f92672>[</span>ParNew: 848809K-&gt;136830K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1007517 secs<span style=color:#f92672>]</span> 4269203K-&gt;3557224K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1010417 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>0.92 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.10 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22046.199: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22046.199: <span style=color:#f92672>[</span>ParNew: 867070K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1262746 secs<span style=color:#f92672>]</span> 4186874K-&gt;3508758K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1265621 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.15 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.12 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22046.528: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22046.528: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1154658 secs<span style=color:#f92672>]</span> 4135340K-&gt;3445385K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1157458 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.03 sys<span style=color:#f92672>=</span>0.01, real<span style=color:#f92672>=</span>0.12 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22046.863: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22046.864: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1380234 secs<span style=color:#f92672>]</span> 4056185K-&gt;3381568K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1383243 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.20 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.14 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22047.238: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22047.239: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1175596 secs<span style=color:#f92672>]</span> 4007589K-&gt;3321101K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1178741 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>0.91 sys<span style=color:#f92672>=</span>0.01, real<span style=color:#f92672>=</span>0.11 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22047.577: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22047.577: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1095810 secs<span style=color:#f92672>]</span> 3979304K-&gt;3283188K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1098780 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>0.98 sys<span style=color:#f92672>=</span>0.01, real<span style=color:#f92672>=</span>0.11 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22047.906: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22047.906: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1460188 secs<span style=color:#f92672>]</span> 3936187K-&gt;3253343K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1464933 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.33 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.15 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22048.254: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22048.254: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1357416 secs<span style=color:#f92672>]</span> 3906382K-&gt;3219026K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1360523 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.24 sys<span style=color:#f92672>=</span>0.01, real<span style=color:#f92672>=</span>0.14 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22048.604: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22048.605: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1257560 secs<span style=color:#f92672>]</span> 3860409K-&gt;3178499K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1260555 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.11 sys<span style=color:#f92672>=</span>0.01, real<span style=color:#f92672>=</span>0.13 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22048.944: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22048.944: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1227148 secs<span style=color:#f92672>]</span> 3848451K-&gt;3162435K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1230789 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>0.93 sys<span style=color:#f92672>=</span>0.01, real<span style=color:#f92672>=</span>0.12 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22049.275: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22049.275: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1300142 secs<span style=color:#f92672>]</span> 3837726K-&gt;3164053K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1303308 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.12 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.13 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22049.617: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22049.617: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1560830 secs<span style=color:#f92672>]</span> 3785033K-&gt;3102054K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1564236 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.30 sys<span style=color:#f92672>=</span>0.04, real<span style=color:#f92672>=</span>0.16 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22049.829: <span style=color:#f92672>[</span>CMS-concurrent-sweep: 7.565/12.417 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>185.39 sys<span style=color:#f92672>=</span>17.96, real<span style=color:#f92672>=</span>12.42 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22049.830: <span style=color:#f92672>[</span>CMS-concurrent-reset-start<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22049.892: <span style=color:#f92672>[</span>CMS-concurrent-reset: 0.063/0.063 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.14 sys<span style=color:#f92672>=</span>0.16, real<span style=color:#f92672>=</span>0.06 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22049.984: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22049.984: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1332560 secs<span style=color:#f92672>]</span> 3749726K-&gt;3073390K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1335766 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.14 sys<span style=color:#f92672>=</span>0.04, real<span style=color:#f92672>=</span>0.13 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22050.326: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22050.326: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1500684 secs<span style=color:#f92672>]</span> 3803630K-&gt;3113169K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1504454 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.24 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.15 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22050.701: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22050.701: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1538092 secs<span style=color:#f92672>]</span> 3843409K-&gt;3161059K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1541364 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.23 sys<span style=color:#f92672>=</span>0.03, real<span style=color:#f92672>=</span>0.15 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22051.055: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22051.055: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1283893 secs<span style=color:#f92672>]</span> 3891299K-&gt;3198929K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1287281 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.08 sys<span style=color:#f92672>=</span>0.00, real<span style=color:#f92672>=</span>0.13 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22051.401: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22051.401: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1382001 secs<span style=color:#f92672>]</span> 3929169K-&gt;3244359K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1385485 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.07 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.14 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22051.753: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22051.754: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1212361 secs<span style=color:#f92672>]</span> 3974599K-&gt;3291855K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1217161 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.01 sys<span style=color:#f92672>=</span>0.03, real<span style=color:#f92672>=</span>0.12 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22052.076: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22052.077: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1348037 secs<span style=color:#f92672>]</span> 4022095K-&gt;3334990K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1351310 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.12 sys<span style=color:#f92672>=</span>0.01, real<span style=color:#f92672>=</span>0.14 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22052.432: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22052.432: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1207005 secs<span style=color:#f92672>]</span> 4065230K-&gt;3377339K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1210904 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.01 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.12 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22052.757: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22052.757: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1216388 secs<span style=color:#f92672>]</span> 4107579K-&gt;3427506K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1219509 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>0.96 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.13 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22053.102: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22053.102: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1176569 secs<span style=color:#f92672>]</span> 4157746K-&gt;3474495K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1179791 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>0.94 sys<span style=color:#f92672>=</span>0.03, real<span style=color:#f92672>=</span>0.12 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22053.444: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22053.444: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1153058 secs<span style=color:#f92672>]</span> 4204735K-&gt;3524874K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1156208 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>0.93 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.12 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22053.825: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22053.825: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1370090 secs<span style=color:#f92672>]</span> 4255114K-&gt;3574406K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1376114 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.16 sys<span style=color:#f92672>=</span>0.04, real<span style=color:#f92672>=</span>0.14 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22054.226: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22054.226: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1293793 secs<span style=color:#f92672>]</span> 4304646K-&gt;3603376K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1297292 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.06 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.13 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22054.580: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22054.580: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1383698 secs<span style=color:#f92672>]</span> 4333616K-&gt;3655122K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1387208 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.10 sys<span style=color:#f92672>=</span>0.01, real<span style=color:#f92672>=</span>0.14 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22054.928: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22054.928: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1168988 secs<span style=color:#f92672>]</span> 4385362K-&gt;3691694K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1172026 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.04 sys<span style=color:#f92672>=</span>0.01, real<span style=color:#f92672>=</span>0.12 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22055.269: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22055.269: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1274913 secs<span style=color:#f92672>]</span> 4421934K-&gt;3724706K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1278116 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.02 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.12 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22055.626: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22055.626: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1319667 secs<span style=color:#f92672>]</span> 4454946K-&gt;3769275K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1323446 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.03 sys<span style=color:#f92672>=</span>0.03, real<span style=color:#f92672>=</span>0.14 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22055.964: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22055.964: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1282238 secs<span style=color:#f92672>]</span> 4499515K-&gt;3814194K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1285613 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.02 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.13 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22056.286: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22056.286: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1295692 secs<span style=color:#f92672>]</span> 4544434K-&gt;3854773K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1299219 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.01 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.13 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22056.627: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22056.627: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1299080 secs<span style=color:#f92672>]</span> 4585013K-&gt;3904723K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1302944 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.06 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.13 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22056.962: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22056.962: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1490967 secs<span style=color:#f92672>]</span> 4634963K-&gt;3964984K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1494244 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.15 sys<span style=color:#f92672>=</span>0.02, real<span style=color:#f92672>=</span>0.15 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22057.318: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22057.318: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1499307 secs<span style=color:#f92672>]</span> 4695224K-&gt;4010986K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1503423 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.23 sys<span style=color:#f92672>=</span>0.03, real<span style=color:#f92672>=</span>0.16 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22057.680: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22057.680: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1232765 secs<span style=color:#f92672>]</span> 4741226K-&gt;4057267K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1235796 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>0.99 sys<span style=color:#f92672>=</span>0.04, real<span style=color:#f92672>=</span>0.12 secs<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>22058.018: <span style=color:#f92672>[</span>GC <span style=color:#f92672>(</span>Allocation Failure<span style=color:#f92672>)</span> 22058.018: <span style=color:#f92672>[</span>ParNew: 876288K-&gt;146048K<span style=color:#f92672>(</span>876288K<span style=color:#f92672>)</span>, 0.1574910 secs<span style=color:#f92672>]</span> 4787507K-&gt;4107281K<span style=color:#f92672>(</span>8242560K<span style=color:#f92672>)</span>, 0.1577976 secs<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>Times: user<span style=color:#f92672>=</span>1.32 sys<span style=color:#f92672>=</span>0.03, real<span style=color:#f92672>=</span>0.16 secs<span style=color:#f92672>]</span>
</span></span></code></pre></div><blockquote><p>22045.210: [GC (Allocation Failure) 22045.210: [ParNew: 876288K->146048K(876288K), 0.1231922 secs] 4367587K->3685888K(8242560K), 0.1234838 secs] [Times: user=1.08 sys=0.01, real=0.12 secs]</p></blockquote><ul><li>ParNew: 876288K->146048K(876288K), 0.1231922 secs</li></ul><blockquote><p>GC 前年轻代 876288KB(876MB), GC后该内存区域使用容量 146048KB; GC 耗时 0.1231922 秒</p></blockquote><ul><li>4367587K->3685888K(8242560K), 0.1234838 secs</li></ul><blockquote><p>堆区垃圾回收前的大小 4367587K(4GB)，堆区垃圾回收后的大小 3685888K(3.6GB)，堆区总大小 8242560K(8GB); GC 耗时 0.1234838 秒</p></blockquote><ul><li>[Times: user=1.08 sys=0.01, real=0.12 secs]</li></ul><blockquote><p>分别表示用户态耗时 1.08 秒，内核态耗时 0.01 秒，总耗时 0.12 秒</p></blockquote><p>分析下可以得出结论：</p><ul><li>该次 GC 新生代减少了 876288K - 146048K = 730240K (730MB)</li><li>Heap 区总共减少了 4367587K - 3685888K = 681699K (681MB)</li></ul><p>730240K – 681699K = 48541K (48MB)，说明该次共有 48MB 内存从年轻代移到了老年代，可以看出年轻代频繁达到最大（876MB）并触法 ParNew, 该收集器采用复制算法回收内存，期间会停止其他工作线程，即 <strong>Stop The World</strong></p></div><div class=post-footer><div class=info><span class=separator><a class=category href=/categories/nexus/>nexus</a></span>
<span class=separator><a class=tag href=/tags/nexus/>nexus</a></span></div></div></div></div></div></div><script type=text/javascript src=/js/medium-zoom.min.e1c6918cbaa90022a5612f0bd71c7bf3be6d036614c5729cebfe14f7b91fa4bc.js integrity="sha256-4caRjLqpACKlYS8L1xx7875tA2YUxXKc6/4U97kfpLw=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css integrity=sha384-t5CR+zwDAROtph0PXGte6ia8heboACF9R5l/DiY+WZ3P2lxNgvJkQk5n7GPvLMYw crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js integrity=sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8+w2LAIftJEULZABrF9PPFv+tVkH crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js integrity=sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB+w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v crossorigin=anonymous onload=renderMathInElement(document.body)></script></body></html>