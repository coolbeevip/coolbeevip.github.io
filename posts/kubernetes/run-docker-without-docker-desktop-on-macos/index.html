<!doctype html><html lang=en data-theme><head><title>Lei Zhang | Run Docker without Docker Desktop on macOS</title><meta charset=utf-8><meta name=generator content="Hugo 0.97.3"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="This is my knowledge base. I document things here"><link rel=stylesheet href=/css/style.min.7cf3c5090ac13256a5fa5531e5649cfe5a2ba7de88dca14ce0b6e253409a3511.css integrity="sha256-fPPFCQrBMlal+lUx5WSc/lorp96I3KFM4LbiU0CaNRE=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.f798cbda9aaa38f89eb38be6414bd082cfd71a6780375cbf67b6d2fb2b96491e.css integrity="sha256-95jL2pqqOPies4vmQUvQgs/XGmeAN1y/Z7bS+yuWSR4=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/custom.min.3fa691134fafa8351e9d193939a352647c1ae886828bdefa3f5a272653dbf7e4.css integrity="sha256-P6aRE0+vqDUenRk5OaNSZHwa6IaCi976P1onJlPb9+Q=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=/posts/kubernetes/run-docker-without-docker-desktop-on-macos/><script type=text/javascript src=/js/anatole-header.min.df804b63b5bd8474ea0756ea874bc8f1e92552708cc6ea43aa0d76981dc419f9.js integrity="sha256-34BLY7W9hHTqB1bqh0vI8eklUnCMxupDqg12mB3EGfk=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content="Run Docker without Docker Desktop on macOS"><meta name=twitter:description content="ç”±äº Docker Desktop ä¿®æ”¹äº†æˆæƒæ¡æ¬¾ï¼Œä¸å†å¯¹ä¼ä¸šç”¨æˆ·å…è´¹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å•Šå¯»æ±‚ä¸€ç§æ›¿ä»£å“ã€‚åˆ°ç›®å‰ä¸ºæ­¢ Minikube å·²ç»æˆä¸º Docker Desktop æœ€ç®€å•çš„æ›¿ä»£å“ã€‚ Minikube ç”¨äºåœ¨æœ¬åœ°ç¯å¢ƒä¸­è¿è¡Œ Kubernetes é›†ç¾¤ï¼Œä½†å®ƒä¹Ÿè¿è¡Œäº†ä¸€ä¸ªå¯ç”¨äºè¿è¡Œå®¹å™¨çš„ Docker å®ˆæŠ¤è¿›ç¨‹ã€‚å¦‚æœä½ ä¸éœ€è¦ä½¿ç”¨ Kubernetes ï¼Œé‚£ä¹ˆä½ å¯ä»¥é€šè¿‡ minikube pause æš‚åœ Kubernetes ç›¸å…³é•œåƒï¼Œä»è€Œè§£å†³ç³»ç»Ÿèµ„æºã€‚
åœ¨ macOS ä¸Šï¼ŒMinikube è¿è¡Œåœ¨å¾ˆå¤šè™šæ‹ŸåŒ–æŠ€æœ¯ä¸Šï¼Œç”±äºISSUE-6296åŸå› ï¼Œæœ¬ä¾‹ä½¿ç”¨ Virtualbox æ–¹å¼ï¼ˆä½ éœ€è¦å…ˆå®‰è£… Virtualboxï¼‰ã€‚
å¸è½½ Docker Desktop for macOS å¦‚æœä½ ä¹‹å‰å®‰è£…è¿‡ Docker Desktopï¼Œé‚£ä¹ˆä½ éœ€è¦å…ˆå¸è½½å®ƒ
 åœ¨ Docker Desktop èœå•ä¸­é€‰æ‹© Troubleshoot å¹¶ä¸”é€‰æ‹© Uninstall. åˆ é™¤ /Applications/Docker.app  å®‰è£… Docker CLI å› ä¸ºå¸è½½ Docker Desktop åå°†è‡ªåŠ¨å¸è½½ Docker CLIï¼Œæ‰€ä»¥ä½ éœ€è¦å•ç‹¬å®‰è£…
$ brew install docker $ brew install docker-compose æç¤ºï¼š åœ¨æ‰§è¡Œ brew install docker-compose å‘½ä»¤çš„æ—¶å€™å¯èƒ½å¾—åˆ°å¦‚ä¸‹çš„å¤±è´¥ä¿¡æ¯ï¼Œè¿™æ˜¯å› ä¸ºä¾èµ–åŒ…ä¸‹è½½å¤±è´¥ã€‚ä½ å¯ä»¥ä½¿ç”¨ brew install gdbm å•ç‹¬ä¸‹è½½ä¾èµ–åŒ…ï¼Œå°±é¿å…äº†æ‰¾ä¸åˆ°ä¾èµ–ç‰ˆæœ¬çš„é”™è¯¯ã€‚"></head><body><div class="sidebar ."><div class=logo-title><div class=title><img src=/images/profile.jpg alt="profile picture"><h3 title><a href=/>I'm Lei Zhang</a></h3><div class=description><p>This is my knowledge base. I document things here</p></div></div><p><a href=https://github.com/coolbeevip><img src="https://img.shields.io/github/followers/coolbeevip?label=follow&style=social" alt="GitHub coolbeevip"></a>
<img src=https://badges.pufler.dev/commits/all/coolbeevip alt="Commits Badge">
<img src=https://badges.pufler.dev/repos/coolbeevip alt="Repos Badge">
<img src=https://badges.pufler.dev/years/coolbeevip alt="Years Badge"></p></div><ul class=social-links><li><a href=https://github.com/coolbeevip/ rel=me aria-label=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li><a href=mailto:zhanglei@apache.org rel=me aria-label=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul><div class=footer><div class=by_farbox>&copy; Lei Zhang 2022</div></div></div><div class=main><div class="page-top ."><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a><ul class=nav id=navMenu><li><a href=/ title>Home</a></li><li><a href=/posts title>Blog</a></li><li><a href=/bookmarks title>Bookmarks</a></li><li><a href=/about/ title>About</a></li></ul></div><div class=autopagerize_page_element><div class=content><div class="post ."><div class=post-content><div class=post-title><h3>Run Docker without Docker Desktop on macOS</h3></div><p>ç”±äº Docker Desktop ä¿®æ”¹äº†æˆæƒæ¡æ¬¾ï¼Œä¸å†å¯¹ä¼ä¸šç”¨æˆ·å…è´¹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å•Šå¯»æ±‚ä¸€ç§æ›¿ä»£å“ã€‚åˆ°ç›®å‰ä¸ºæ­¢ Minikube å·²ç»æˆä¸º Docker Desktop æœ€ç®€å•çš„æ›¿ä»£å“ã€‚ Minikube ç”¨äºåœ¨æœ¬åœ°ç¯å¢ƒä¸­è¿è¡Œ Kubernetes é›†ç¾¤ï¼Œä½†å®ƒä¹Ÿè¿è¡Œäº†ä¸€ä¸ªå¯ç”¨äºè¿è¡Œå®¹å™¨çš„ Docker å®ˆæŠ¤è¿›ç¨‹ã€‚å¦‚æœä½ ä¸éœ€è¦ä½¿ç”¨ Kubernetes ï¼Œé‚£ä¹ˆä½ å¯ä»¥é€šè¿‡ <code>minikube pause</code> æš‚åœ Kubernetes ç›¸å…³é•œåƒï¼Œä»è€Œè§£å†³ç³»ç»Ÿèµ„æºã€‚</p><p>åœ¨ macOS ä¸Šï¼ŒMinikube è¿è¡Œåœ¨å¾ˆå¤šè™šæ‹ŸåŒ–æŠ€æœ¯ä¸Šï¼Œç”±äº<a href=https://github.com/kubernetes/minikube/issues/6296>ISSUE-6296</a>åŸå› ï¼Œæœ¬ä¾‹ä½¿ç”¨ Virtualbox æ–¹å¼ï¼ˆä½ éœ€è¦å…ˆå®‰è£… Virtualboxï¼‰ã€‚</p><h2 id=å¸è½½-docker-desktop-for-macos>å¸è½½ Docker Desktop for macOS</h2><p>å¦‚æœä½ ä¹‹å‰å®‰è£…è¿‡ Docker Desktopï¼Œé‚£ä¹ˆä½ éœ€è¦å…ˆå¸è½½å®ƒ</p><ol><li>åœ¨ Docker Desktop èœå•ä¸­é€‰æ‹© Troubleshoot å¹¶ä¸”é€‰æ‹© Uninstall.</li><li>åˆ é™¤ /Applications/Docker.app</li></ol><h2 id=å®‰è£…-docker-cli>å®‰è£… Docker CLI</h2><p>å› ä¸ºå¸è½½ Docker Desktop åå°†è‡ªåŠ¨å¸è½½ Docker CLIï¼Œæ‰€ä»¥ä½ éœ€è¦å•ç‹¬å®‰è£…</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ brew install docker
</span></span><span style=display:flex><span>$ brew install docker-compose
</span></span></code></pre></div><p><strong>æç¤ºï¼š</strong> åœ¨æ‰§è¡Œ <code>brew install docker-compose</code> å‘½ä»¤çš„æ—¶å€™å¯èƒ½å¾—åˆ°å¦‚ä¸‹çš„å¤±è´¥ä¿¡æ¯ï¼Œè¿™æ˜¯å› ä¸ºä¾èµ–åŒ…ä¸‹è½½å¤±è´¥ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>brew install gdbm</code> å•ç‹¬ä¸‹è½½ä¾èµ–åŒ…ï¼Œå°±é¿å…äº†æ‰¾ä¸åˆ°ä¾èµ–ç‰ˆæœ¬çš„é”™è¯¯ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#f92672>==</span>&gt; Installing dependencies <span style=color:#66d9ef>for</span> docker-compose: gdbm, mpdecimal, sqlite, xz and python@3.9
</span></span><span style=display:flex><span><span style=color:#f92672>==</span>&gt; Installing docker-compose dependency: gdbm
</span></span><span style=display:flex><span><span style=color:#f92672>==</span>&gt; Pouring gdbm-1.20.catalina.bottle.tar.gz
</span></span><span style=display:flex><span>Error: No such file or directory @ rb_sysopen - /Users/zhanglei/Library/Caches/Homebrew/downloads/3a7181542ed14a53077d6b4cd5685859711691e0cb8029f0b49b159a47a7b999--gdbm-1.20.catalina.bottle.tar.gz
</span></span></code></pre></div><p>å®‰è£…å®Œæ¯•åä½ å¯ä»¥çœ‹åˆ° CLI ç‰ˆæœ¬</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ docker -v
</span></span><span style=display:flex><span>Docker version 20.10.8, build 3967b7d28e
</span></span><span style=display:flex><span>$ docker-compose -v
</span></span><span style=display:flex><span>docker-compose version 1.29.2, build unknown
</span></span></code></pre></div><h2 id=å®‰è£…-minikube>å®‰è£… Minikube</h2><p>ä½ éœ€è¦ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„å®‰è£…ä»‹è´¨ï¼Œè¯¦ç»†å®‰è£…ç»†èŠ‚å¯ä»¥å‚è€ƒ<a href=https://minikube.sigs.k8s.io/docs/start/>å®˜æ–¹æ–‡æ¡£</a></p><p>å®‰è£…</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-darwin-amd64
</span></span><span style=display:flex><span>sudo install minikube-darwin-amd64 /usr/local/bin/minikube
</span></span></code></pre></div><p>å¯åŠ¨</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ minikube start <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--memory<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;4gb&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--cpus<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;2&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--disk-size<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;30gb&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--driver<span style=color:#f92672>=</span>virtualbox <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--image-mirror-country<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;cn&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--registry-mirror<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;https://registry.cn-hangzhou.aliyuncs.com,http://registry-private.com:8888&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>--insecure-registry<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;registry-private.com:8888&#39;</span>
</span></span></code></pre></div><p><strong>æç¤ºï¼š</strong> ä½¿ç”¨ <code>minikube start help</code> å¯ä»¥çœ‹åˆ°å‚æ•°çš„è¯¦ç»†è¯´æ˜</p><p><strong>æç¤ºï¼š</strong> å¦‚æœä½ ä¸æ¶‰åŠä½¿ç”¨VPNè¿æ¥åˆ°å·¥ä½œç½‘ç»œï¼Œé‚£ä¹ˆæ¨èä½¿ç”¨ hyperkit é©±åŠ¨ï¼Œä½ éœ€è¦ä½¿ç”¨ <code>brew install hyperkit</code> å‘½ä»¤å…ˆå®‰è£… Hyperkit å¹¶ä¸”åœ¨å¯åŠ¨å‘½ä»¤ä¸­é€šè¿‡å‚æ•° <code>--driver=hyperkit</code> å¯ç”¨ Hyperkit</p><p><strong>æç¤ºï¼š</strong> ä½ ä½¿ç”¨ Hyperkit é©±åŠ¨å¯åŠ¨æ—¶å¦‚æœæç¤ºå¦‚ä¸‹é”™è¯¯ï¼Œé‚£ä¹ˆå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ <code>https://github.com/kubernetes/minikube/releases/download/v1.24.0/docker-machine-driver-hyperkit</code> æ–‡ä»¶åˆ° <code>~/.minikube/bin</code> ç›®å½•ä¸‹åå†å¯åŠ¨ Minikube</p><blockquote><p>ğŸ’¾ æ­£åœ¨ä¸‹è½½é©±åŠ¨ docker-machine-driver-hyperkit:
â— Unable to update hyperkit driver: download: getter: &{Ctx:context.Background Src:https://github.com/kubernetes/minikube/releases/download/v1.24.0/docker-machine-driver-hyperkit?checksum=file:https://github.com/kubernetes/minikube/releases/download/v1.24.0/docker-machine-driver-hyperkit.sha256 Dst:/Users/zhanglei/.minikube/bin/docker-machine-driver-hyperkit.download Pwd: Mode:2 Umask:&mdash;&mdash;&mdash;- Detectors:[0x40ae630 0x40ae630 0x40ae630 0x40ae630 0x40ae630 0x40ae630 0x40ae630] Decompressors:map[bz2:0x40ae630 gz:0x40ae630 tar:0x40ae630 tar.bz2:0x40ae630 tar.gz:0x40ae630 tar.xz:0x40ae630 tar.zst:0x40ae630 tbz2:0x40ae630 tgz:0x40ae630 txz:0x40ae630 tzst:0x40ae630 xz:0x40ae630 zip:0x40ae630 zst:0x40ae630] Getters:map[file:0xc000f1aa70 http:0xc0006d4860 https:0xc0006d4880] Dir:false ProgressListener:0x406ffd0 Insecure:false Options:[0x2448e00]}: invalid checksum: Error downloading checksum file: Get &ldquo;<a href=https://github.com/kubernetes/minikube/releases/download/v1.24.0/docker-machine-driver-hyperkit.sha256%22>https://github.com/kubernetes/minikube/releases/download/v1.24.0/docker-machine-driver-hyperkit.sha256"</a>: dial tcp 20.205.243.166:443: connect: connection refused</p></blockquote><p>è®¾ç½® Docker CLI ä½¿ç”¨ Minikube çš„ VM</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ eval <span style=color:#66d9ef>$(</span>minikube docker-env<span style=color:#66d9ef>)</span>
</span></span></code></pre></div><p>æŸ¥çœ‹é»˜è®¤å¯åŠ¨çš„å®¹å™¨</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ docker ps
</span></span><span style=display:flex><span>CONTAINER ID   IMAGE                  COMMAND                  CREATED         STATUS         PORTS     NAMES
</span></span><span style=display:flex><span>a4e2ae0ed30f   6e38f40d628d           <span style=color:#e6db74>&#34;/storage-provisioner&#34;</span>   <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_storage-provisioner_storage-provisioner_kube-system_1ee87471-9ac7-4dd0-90bb-3e6bd95af01a_2
</span></span><span style=display:flex><span>b8b86bda2d56   8d147537fb7d           <span style=color:#e6db74>&#34;/coredns -conf /etcâ€¦&#34;</span>   <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_coredns_coredns-78fcd69978-sfd6c_kube-system_1ca00abe-d487-4b3b-aca3-871a47e94724_1
</span></span><span style=display:flex><span>a448c38496c4   6120bd723dce           <span style=color:#e6db74>&#34;/usr/local/bin/kubeâ€¦&#34;</span>   <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_kube-proxy_kube-proxy-5l45m_kube-system_a36c7041-31ed-4f76-b66f-8eaf6bd9a002_1
</span></span><span style=display:flex><span>8878e549c80e   k8s.gcr.io/pause:3.5   <span style=color:#e6db74>&#34;/pause&#34;</span>                 <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_POD_kube-proxy-5l45m_kube-system_a36c7041-31ed-4f76-b66f-8eaf6bd9a002_1
</span></span><span style=display:flex><span>d5cd9d87efaa   k8s.gcr.io/pause:3.5   <span style=color:#e6db74>&#34;/pause&#34;</span>                 <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_POD_storage-provisioner_kube-system_1ee87471-9ac7-4dd0-90bb-3e6bd95af01a_1
</span></span><span style=display:flex><span>c8e099276f14   k8s.gcr.io/pause:3.5   <span style=color:#e6db74>&#34;/pause&#34;</span>                 <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_POD_coredns-78fcd69978-sfd6c_kube-system_1ca00abe-d487-4b3b-aca3-871a47e94724_1
</span></span><span style=display:flex><span>8bea4867b31e   <span style=color:#ae81ff>004811815584</span>           <span style=color:#e6db74>&#34;etcd --advertise-clâ€¦&#34;</span>   <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_etcd_etcd-minikube_kube-system_d3e8bd529aa2c19bd371c917d710530a_1
</span></span><span style=display:flex><span>63b85c36bfad   53224b502ea4           <span style=color:#e6db74>&#34;kube-apiserver --adâ€¦&#34;</span>   <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_kube-apiserver_kube-apiserver-minikube_kube-system_c470a327a906a1c8b254f97177783990_1
</span></span><span style=display:flex><span>4f31a201c1c8   05c905cef780           <span style=color:#e6db74>&#34;kube-controller-manâ€¦&#34;</span>   <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_kube-controller-manager_kube-controller-manager-minikube_kube-system_cf61f8185359bbfecb994d4d92683b56_1
</span></span><span style=display:flex><span>8b868aef92e4   0aa9c7e31d30           <span style=color:#e6db74>&#34;kube-scheduler --auâ€¦&#34;</span>   <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_kube-scheduler_kube-scheduler-minikube_kube-system_eee9e2da42102bf0a05e1e7b00e318bf_1
</span></span><span style=display:flex><span>f293391e8cc6   k8s.gcr.io/pause:3.5   <span style=color:#e6db74>&#34;/pause&#34;</span>                 <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_POD_kube-apiserver-minikube_kube-system_c470a327a906a1c8b254f97177783990_1
</span></span><span style=display:flex><span>1ffe327189ca   k8s.gcr.io/pause:3.5   <span style=color:#e6db74>&#34;/pause&#34;</span>                 <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_POD_etcd-minikube_kube-system_d3e8bd529aa2c19bd371c917d710530a_1
</span></span><span style=display:flex><span>1eb097cba9d0   k8s.gcr.io/pause:3.5   <span style=color:#e6db74>&#34;/pause&#34;</span>                 <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_POD_kube-scheduler-minikube_kube-system_eee9e2da42102bf0a05e1e7b00e318bf_1
</span></span><span style=display:flex><span>2f3b5bf3ae2b   k8s.gcr.io/pause:3.5   <span style=color:#e6db74>&#34;/pause&#34;</span>                 <span style=color:#ae81ff>2</span> minutes ago   Up <span style=color:#ae81ff>2</span> minutes             k8s_POD_kube-controller-manager-minikube_kube-system_cf61f8185359bbfecb994d4d92683b56_1
</span></span></code></pre></div><p><strong>æç¤ºï¼š</strong> minikube å¯åŠ¨æ—¶ä¼šé»˜è®¤å¯åŠ¨ k8s çš„å®¹å™¨ï¼Œå¦‚æœä½ ä¸ä½¿ç”¨ k8sï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>minikube pause</code> å‘½ä»¤æš‚åœ k8s ç›¸å…³çš„å®¹å™¨ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœä¸€äº›ç³»ç»Ÿèµ„æºã€‚</p><h2 id=éªŒè¯ç¯å¢ƒ>éªŒè¯ç¯å¢ƒ</h2><p>æˆ‘ä»¬å¯ä»¥å¯åŠ¨ä¸€ä¸ª Nginx å®¹å™¨éªŒè¯ Docker ç¯å¢ƒ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run --rm --name some-nginx -p 8080:80 nginx
</span></span></code></pre></div><p>åŒºåˆ«äº Docker Desktop çš„æ–¹å¼ï¼ŒDocker ç¯å¢ƒæ˜¯è¢«å®‰è£…åœ¨ VM ä¸Šçš„ï¼Œæ‰€ä»¥ä½ ä¸èƒ½åœ¨ä½¿ç”¨å®¿ä¸»æœºçš„IPè®¿é—®å®¹å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>minikube ip</code> å‘½ä»¤è·å– VM åœ°å€ï¼Œå¹¶ä½¿ç”¨æ­¤åœ°å€è®¿é—® Nginxã€‚æˆ–è€…ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹è¾¹çš„å†™æ³•</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ curl http://<span style=color:#e6db74>`</span>minikube ip<span style=color:#e6db74>`</span>:8080/
</span></span><span style=display:flex><span>&lt;!DOCTYPE html&gt;
</span></span><span style=display:flex><span>&lt;html&gt;
</span></span><span style=display:flex><span>&lt;head&gt;
</span></span><span style=display:flex><span>&lt;title&gt;Welcome to nginx!&lt;/title&gt;
</span></span><span style=display:flex><span>&lt;style&gt;
</span></span><span style=display:flex><span>html <span style=color:#f92672>{</span> color-scheme: light dark; <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>body <span style=color:#f92672>{</span> width: 35em; margin: <span style=color:#ae81ff>0</span> auto;
</span></span><span style=display:flex><span>font-family: Tahoma, Verdana, Arial, sans-serif; <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>&lt;/style&gt;
</span></span><span style=display:flex><span>&lt;/head&gt;
</span></span><span style=display:flex><span>&lt;body&gt;
</span></span><span style=display:flex><span>&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;
</span></span><span style=display:flex><span>&lt;p&gt;If you see this page, the nginx web server is successfully installed and
</span></span><span style=display:flex><span>working. Further configuration is required.&lt;/p&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;p&gt;For online documentation and support please refer to
</span></span><span style=display:flex><span>&lt;a href<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://nginx.org/&#34;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;
</span></span><span style=display:flex><span>Commercial support is available at
</span></span><span style=display:flex><span>&lt;a href<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://nginx.com/&#34;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;p&gt;&lt;em&gt;Thank you <span style=color:#66d9ef>for</span> using nginx.&lt;/em&gt;&lt;/p&gt;
</span></span><span style=display:flex><span>&lt;/body&gt;
</span></span><span style=display:flex><span>&lt;/html&gt;
</span></span></code></pre></div><h2 id=minikube-å¤‡å¿˜å½•>Minikube å¤‡å¿˜å½•</h2><ul><li><p>minikube stop - åœæ­¢ VM å’Œ k8s é›†ç¾¤</p></li><li><p>minikube delete &ndash;all &ndash;purge - åˆ é™¤ VM å’Œ k8s é›†ç¾¤</p></li><li><p>minikube ip - æŸ¥çœ‹ VM çš„ IP åœ°å€</p></li><li><p>minikube pause - æš‚åœ k8s ç›¸å…³çš„å®¹å™¨</p></li><li><p>minikube unpause - å–æ¶ˆæš‚åœ k8s ç›¸å…³çš„å®¹å™¨</p></li><li><p>minikube ssh - ç™»å…¥ VM</p></li></ul></div><div class=post-footer><div class=info><span class=separator><a class=category href=/categories/kubernetes/>kubernetes</a></span>
<span class=separator><a class=tag href=/tags/minikube/>minikube</a><a class=tag href=/tags/macos/>macOS</a></span></div></div></div></div></div></div><script type=text/javascript src=/js/medium-zoom.min.f38354b14e726daea2b656ccc32c944fa1e10a974998cb85bbb50c0f836878b4.js integrity="sha256-84NUsU5yba6itlbMwyyUT6HhCpdJmMuFu7UMD4NoeLQ=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css integrity=sha384-t5CR+zwDAROtph0PXGte6ia8heboACF9R5l/DiY+WZ3P2lxNgvJkQk5n7GPvLMYw crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js integrity=sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8+w2LAIftJEULZABrF9PPFv+tVkH crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js integrity=sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB+w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v crossorigin=anonymous onload=renderMathInElement(document.body)></script></body></html>